# 2020 05 10

OPAL 화면 기획서 작성

![](.\img\opal\슬라이드1.JPG)

![](.\img\opal\슬라이드2.JPG)

![](.\img\opal\슬라이드3.JPG)

![](.\img\opal\슬라이드4.JPG)

![](.\img\opal\슬라이드5.JPG)

![](.\img\opal\슬라이드6.JPG)

![](.\img\opal\슬라이드8.JPG)

![](.\img\opal\슬라이드9.JPG)

# 2020 05 11

- 공공데이터 분석
- 활용데이터 확인
- 데이터 크롤링(블로그 데이터)

### 위염/ 식이지장염/ 위 식도 역류병 관련 소스

```r
# 블로그에서 질병 관련 내용 추출하기
library(httr)
library(rvest)
library(XML)
library(httr)
#1) 위염/ 식이지장염/ 위-식도역류병
#2) 대장암/ 췌장암
searchUrl<- "https://openapi.naver.com/v1/search/blog.xml"
Client_ID <- "izGsqP2exeThwwEUVU3x"
Client_Secret <- "WrwbQ1l6ZI"
query <- URLencode(iconv("식이지장에좋은음식","euc-kr","UTF-8"))
#검색어 입력 부분
url <- paste0(searchUrl, "?query=", query, "&display=100")
# # display=100 100개를 받아오겠어 라는 의미
doc <- GET(url, add_headers("Content_Type" = "application/xml","X-Naver-client-Id" = Client_ID, "X-naver-Client-Secret" = Client_Secret))
# 블로그 내용에 대한 리스트 만들기 
doc2 <- htmlParse(doc, encoding="UTF-8")
text<- xpathSApply(doc2, "//item/description", xmlValue)


finish<-""

text1<-text #검색어: 위에좋은음식
text2<-text #검색어: 위암에좋은음식
finish<-append(text1,text2)
text3<-text #검색어: 위염좋은음식
finish<-append(finish,text3)
text4<-text #검색어: 식도역류염에좋은음식
finish<-append(finish,text4)
text5<-text #위에좋은 건강식품
finish<-append(finish,text5)
text6<-text #위건강음식
finish<-append(finish,text6)
text7<-text #식이지장에좋은음식
finish<-append(finish,text7)





#----------------------------문자 뽑아내기
install.packages("Sejong")
install.packages("hash")
install.packages("rJava")
install.packages("tau")
install.packages("RSQLite")
install.packages("devtools")
install.packages("Rcpp")
install.packages("KoNLP")
library(Sejong)
library(KoNLP)
text2<- extractNoun(finish) # 위와 결과는 같은데 이걸로 사용
textU<- unlist(text2)
#text3<-strsplit(text2, split= ",")
textU<-gsub("[A-Z][a-z]","",textU)
textU<-gsub("[[:lower:][:upper:][:digit:][:punct:][:cntrl:]]","",textU)
textU<-gsub("*[건강]","",textU)
textU<-gsub("*[식품]","",textU)
textU
textU <- Filter(function(x) {nchar(x) >= 2}, textU)
word_table <- table(textU)
final <- sort(word_table, decreasing = T)
write.csv(final,file="opal1.csv")
a<-read.csv(file="opal1.csv")
View(a)
View(final)
result<-head(final, 50)
result

```

### 대장/ 췌장 관련 소스

```
# 블로그에서 질병 관련 내용 추출하기
library(httr)
library(rvest)
library(XML)
library(httr)
#1) 위염/ 식이지장염/ 위-식도역류병
#2) 대장암/ 췌장암
searchUrl<- "https://openapi.naver.com/v1/search/blog.xml"
Client_ID <- "izGsqP2exeThwwEUVU3x"
Client_Secret <- "WrwbQ1l6ZI"
query <- URLencode(iconv("췌장염좋은음식","euc-kr","UTF-8"))
#검색어 입력 부분
url <- paste0(searchUrl, "?query=", query, "&display=100")
# # display=100 100개를 받아오겠어 라는 의미
doc <- GET(url, add_headers("Content_Type" = "application/xml","X-Naver-client-Id" = Client_ID, "X-naver-Client-Secret" = Client_Secret))
# 블로그 내용에 대한 리스트 만들기 
doc2 <- htmlParse(doc, encoding="UTF-8")
text<- xpathSApply(doc2, "//item/description", xmlValue)




t1<-text #검색어: 대장에좋은음식
t2<-text#대장염에좋은음식
finishT<-append(t1,t2)
t3<-text#대장암에좋은음식
finishT<-append(finishT,t3)
t4<-text#췌장에좋은음식
finishT<-append(finishT,t4)
t5<-text#췌장좋은음식
finishT<-append(finishT,t5)
t6<-text#췌장염좋은음식
finishT<-append(finishT,t6)

#----------------------------문자 뽑아내기
install.packages("Sejong")
install.packages("hash")
install.packages("rJava")
install.packages("tau")
install.packages("RSQLite")
install.packages("devtools")
install.packages("Rcpp")
install.packages("KoNLP")
library(Sejong)
library(KoNLP)
test<- extractNoun(finishT) # 위와 결과는 같은데 이걸로 사용
testU<- unlist(test)
#text3<-strsplit(text2, split= ",")
testU<-gsub("[A-Z][a-z]","",testU)
testU<-gsub("[[:lower:][:upper:][:digit:][:punct:][:cntrl:]]","",testU)
testU<-gsub("*[건강]","",testU)
testU<-gsub("*[식품]","",testU)
testU
testU<- Filter(function(x) {nchar(x) >= 2}, testU)
wordtable <- table(testU)
final2 <- sort(wordtable, decreasing = T)
View(final2)
write.csv(final2,file="opal2.csv")
a<-read.csv(file="opal1.csv")

```

<<<<<<< HEAD
# 2020 05 12

- 데이터 아키텍처 (erd 초안 생성)
  - 논리모델 / 논리& 물리모델 생성

- erd 생성 및 spring mvc의 vo 생성

### 논리 & 물리모델 생성

![](.\img\erd.png)

### 논리 모델

![](.\img\논리모델.png)



### VO 생성

VO 생성시 sql의 date형을 그대로 spring으로 받아올 경우 문제가 생겼다.

import java.sql.Date; 을 하느냐

String 형으로 바꾸느냐 -> 이것을 선택하기로 한다.

- CustomerVO

- EcoVO

- FarmVO
- MenuVO
- OrderVO
- PackageVO
- PartnerVO
- PMenuVO
- PRecipeVO
- ProductVO
- RecipeVO
- RegularVO



# 2020 05 13

### 데이터 베이스 구조 변경

![](.\img\erd2.png)

- sickfood, sick, super 테이블 추가하여 다시 생성

### 기본 구조 VO 한개로 통합

```java
package model.vo;
public class MainVO {
	// 20200513 jung OpalVO 생성

	// 20200513 jung Customer table
	// 고객 코드
	private String custCd;
	// 고객 이름
	private String custName;
	// 고객 아이디
	private String custId;
	// 고객 비밀번호
	private String custPw;
	// 고객 성별
	private String custGender;
	// 고객 이메일
	private String custEmail;
	// 고객 전화번호
	private String custPnum;
	// 고객 주소
	private String custAddress;
	// 추천인 고객 아이디
	private String recoCustId;

	// 20200513 jung Eco table
	// 친환경
	// 친환경 코드
	private String ecoCd;
	// 친환경 이름
	private String ecoName;

	// 20200513 jung Farm table
	// 농가 코드
	private String farmCd;
	// 농가 이름
	private String farmName;
	// 농가 주소
	private String farmAddress;
	// 농가 소개
	private String farmContent;
	// 파트너 코드
	private String partCd;
	// 친환경 코드
	// private String ecoCd;
	// Eco table 변수와 겹치므로 1개만 생성
	// 농가 전화번호
	private String farmPnum;

	// 20200513 jung Menu table
	// 식단 코드
	private String menuCd;
	// 식단 이름
	private String menuName;
	// 식단 소개
	private String menuContent;

	// 20200513 jung Order table
	// 고객 코드
	// private String custCd;
	// 위 테이블의 변수와 겹치므로 1개만 생성
	// 주문 코드
	private String orderCd;
	// 주문 날짜
	private String orderDate;
	// 상품 코드
	private String productCd;

	// 20200513 jung Package table
	// 패키지 코드
	private String packCd;
	// 패키지 이름
	private String packName;
	// 패키지 소개
	private String packContent;
	// 패키지 가격
	private Integer packPrice;

	// 20200513 jung Partner table
	// 파트너 코드
	// private String partCd;
	// 위의 테이블과 겹쳐서 1개만 생성
	// 파트너 이름
	private String partName;
	// 파트너 아이디
	private String partId;
	// 파트너 비밀번호
	private String partPw;
	// 파트너 성별
	private String partGender;
	// 파트너 이메일
	private String partEmail;
	// 파트너 전화번호
	private String partPnum;
	// 파트너 주소
	private String partAddress;
	// 추천인 파트너 아이디
	private String recoPartId;

	// 20200513 jung PMenu table
	// FK로만 구성된 테이블로 겹쳐서 생성 안함

	// 20200513 jung PRecipe table
	// 상품 코드
	// private String productCd;
	// 레시피 코드
	private String recipeCd;
	// 레시피 업데이트일
	private String recipeUpdate;

	// 20200513 jung Product table
	// 상품 코드
	// private String productCd;
	// 위의 테이블과 겹쳐서 1개만 생성
	// 상품 이름
	private String productName;
	// 상품 소개
	private String productContent;
	// 상품 가격
	private Integer productPrice;
	// 농가 코드
	// private String farmCd;
	// 위의 테이블과 겹쳐서 1개만 생성
	// 상품 수
	private Integer productSu;

	// 20200513 jung Recipe table
	// 레시피 코드
	// private String recipeCd;
	// 위의 테이블과 겹쳐서 1개만 생성
	// 레시피 이름
	private String recipeName;
	// 레시피 소개
	private String recipeContent;

	// 20200513 jung Regular table
	// 상품 코드
	// private String productCd;
	// 패키지 코드
	// private String packCd;
	// 구독 날짜
	private String regularDate;
	// 구독 코드
	private String regularCd;

	// 20200513 jung sickfood table
	// 음식 코드
	private String foodCd;
	// 질병 코드
	private String sickCd;
	// 음식 이름
	private String foodName;

	// 20200513 jung sick table
	// 질병 코드
	// private String sickCd;
	// 위의 테이블과 겹쳐서 1개만 생성
	// 질병 이름
	private String sickName;
	// 관리자 코드
	private String superCd;
	public String getCustCd() {
		return custCd;
	}
	public void setCustCd(String custCd) {
		this.custCd = custCd;
	}
	public String getCustName() {
		return custName;
	}
	public void setCustName(String custName) {
		this.custName = custName;
	}
	public String getCustId() {
		return custId;
	}
	public void setCustId(String custId) {
		this.custId = custId;
	}
	public String getCustPw() {
		return custPw;
	}
	public void setCustPw(String custPw) {
		this.custPw = custPw;
	}
	public String getCustGender() {
		return custGender;
	}
	public void setCustGender(String custGender) {
		this.custGender = custGender;
	}
	public String getCustEmail() {
		return custEmail;
	}
	public void setCustEmail(String custEmail) {
		this.custEmail = custEmail;
	}
	public String getCustPnum() {
		return custPnum;
	}
	public void setCustPnum(String custPnum) {
		this.custPnum = custPnum;
	}
	public String getCustAddress() {
		return custAddress;
	}
	public void setCustAddress(String custAddress) {
		this.custAddress = custAddress;
	}
	public String getRecoCustId() {
		return recoCustId;
	}
	public void setRecoCustId(String recoCustId) {
		this.recoCustId = recoCustId;
	}
	public String getEcoCd() {
		return ecoCd;
	}
	public void setEcoCd(String ecoCd) {
		this.ecoCd = ecoCd;
	}
	public String getEcoName() {
		return ecoName;
	}
	public void setEcoName(String ecoName) {
		this.ecoName = ecoName;
	}
	public String getFarmCd() {
		return farmCd;
	}
	public void setFarmCd(String farmCd) {
		this.farmCd = farmCd;
	}
	public String getFarmName() {
		return farmName;
	}
	public void setFarmName(String farmName) {
		this.farmName = farmName;
	}
	public String getFarmAddress() {
		return farmAddress;
	}
	public void setFarmAddress(String farmAddress) {
		this.farmAddress = farmAddress;
	}
	public String getFarmContent() {
		return farmContent;
	}
	public void setFarmContent(String farmContent) {
		this.farmContent = farmContent;
	}
	public String getPartCd() {
		return partCd;
	}
	public void setPartCd(String partCd) {
		this.partCd = partCd;
	}
	public String getFarmPnum() {
		return farmPnum;
	}
	public void setFarmPnum(String farmPnum) {
		this.farmPnum = farmPnum;
	}
	public String getMenuCd() {
		return menuCd;
	}
	public void setMenuCd(String menuCd) {
		this.menuCd = menuCd;
	}
	public String getMenuName() {
		return menuName;
	}
	public void setMenuName(String menuName) {
		this.menuName = menuName;
	}
	public String getMenuContent() {
		return menuContent;
	}
	public void setMenuContent(String menuContent) {
		this.menuContent = menuContent;
	}
	public String getOrderCd() {
		return orderCd;
	}
	public void setOrderCd(String orderCd) {
		this.orderCd = orderCd;
	}
	public String getOrderDate() {
		return orderDate;
	}
	public void setOrderDate(String orderDate) {
		this.orderDate = orderDate;
	}
	public String getProductCd() {
		return productCd;
	}
	public void setProductCd(String productCd) {
		this.productCd = productCd;
	}
	public String getPackCd() {
		return packCd;
	}
	public void setPackCd(String packCd) {
		this.packCd = packCd;
	}
	public String getPackName() {
		return packName;
	}
	public void setPackName(String packName) {
		this.packName = packName;
	}
	public String getPackContent() {
		return packContent;
	}
	public void setPackContent(String packContent) {
		this.packContent = packContent;
	}
	public Integer getPackPrice() {
		return packPrice;
	}
	public void setPackPrice(Integer packPrice) {
		this.packPrice = packPrice;
	}
	public String getPartName() {
		return partName;
	}
	public void setPartName(String partName) {
		this.partName = partName;
	}
	public String getPartId() {
		return partId;
	}
	public void setPartId(String partId) {
		this.partId = partId;
	}
	public String getPartPw() {
		return partPw;
	}
	public void setPartPw(String partPw) {
		this.partPw = partPw;
	}
	public String getPartGender() {
		return partGender;
	}
	public void setPartGender(String partGender) {
		this.partGender = partGender;
	}
	public String getPartEmail() {
		return partEmail;
	}
	public void setPartEmail(String partEmail) {
		this.partEmail = partEmail;
	}
	public String getPartPnum() {
		return partPnum;
	}
	public void setPartPnum(String partPnum) {
		this.partPnum = partPnum;
	}
	public String getPartAddress() {
		return partAddress;
	}
	public void setPartAddress(String partAddress) {
		this.partAddress = partAddress;
	}
	public String getRecoPartId() {
		return recoPartId;
	}
	public void setRecoPartId(String recoPartId) {
		this.recoPartId = recoPartId;
	}
	public String getRecipeCd() {
		return recipeCd;
	}
	public void setRecipeCd(String recipeCd) {
		this.recipeCd = recipeCd;
	}
	public String getRecipeUpdate() {
		return recipeUpdate;
	}
	public void setRecipeUpdate(String recipeUpdate) {
		this.recipeUpdate = recipeUpdate;
	}
	public String getProductName() {
		return productName;
	}
	public void setProductName(String productName) {
		this.productName = productName;
	}
	public String getProductContent() {
		return productContent;
	}
	public void setProductContent(String productContent) {
		this.productContent = productContent;
	}
	public Integer getProductPrice() {
		return productPrice;
	}
	public void setProductPrice(Integer productPrice) {
		this.productPrice = productPrice;
	}
	public Integer getProductSu() {
		return productSu;
	}
	public void setProductSu(Integer productSu) {
		this.productSu = productSu;
	}
	public String getRecipeName() {
		return recipeName;
	}
	public void setRecipeName(String recipeName) {
		this.recipeName = recipeName;
	}
	public String getRecipeContent() {
		return recipeContent;
	}
	public void setRecipeContent(String recipeContent) {
		this.recipeContent = recipeContent;
	}
	public String getRegularDate() {
		return regularDate;
	}
	public void setRegularDate(String regularDate) {
		this.regularDate = regularDate;
	}
	public String getRegularCd() {
		return regularCd;
	}
	public void setRegularCd(String regularCd) {
		this.regularCd = regularCd;
	}
	public String getFoodCd() {
		return foodCd;
	}
	public void setFoodCd(String foodCd) {
		this.foodCd = foodCd;
	}
	public String getSickCd() {
		return sickCd;
	}
	public void setSickCd(String sickCd) {
		this.sickCd = sickCd;
	}
	public String getFoodName() {
		return foodName;
	}
	public void setFoodName(String foodName) {
		this.foodName = foodName;
	}
	public String getSickName() {
		return sickName;
	}
	public void setSickName(String sickName) {
		this.sickName = sickName;
	}
	public String getSuperCd() {
		return superCd;
	}
	public void setSuperCd(String superCd) {
		this.superCd = superCd;
	}

	// 20200513 jung super table
	// FK로만 구성된 테이블로 겹쳐서 생성 안함

}

```



### git 연동

#### datamain.jsp, dataDAO, dataController 기초 베이스 생성

#### 오라클 계정 생성

cmd 창 내용

```sql
sqlplus

user-name/password 
--입력
---> system계정이 만들어 지지 않았었다...
--그럴 경우에는 
user-name sys as sysdba
password --비워두면 된다.

--다른분들은.. system manager 하면 되요!!!
select user from dual --현재 접속한 계정 확인
create user opal indentified by opal --계정 생성
grant connect, resource to opal
```



# 2020 05 14

git 충돌로 인해

포맷하고 다시 시작!!!!

앞으로 오늘 수정하거나, 추가할 파일들 팀원들과 상의해서 하기로 결정!

- dao 폴더 추가 
  - 폴더 안에 DataDAO추가 

- resource 폴더에 해당 파일 추가
  - DataMapper.xml
  - mybatis-config.xml 

- servlet-context.xml 수정

- my.spring.opalproject 폴더에
  - DataController.java
  - OracleEx01.java

- view 폴더에 
  - datamain.jsp 수정

- 이미지 파일 ->img



# JDBC

오라클 서버 연동

질병data 페이지에 들어갈 테이블들 생성해서

테스트 데이터를 넣고 페이지를 구성해본다.

참조 키가 있기 때문에 해당 순서로 데이터를 생성해야 한다.

super -> 질병 데이터 테이블 -> 질병 데이터 음식 테이블

**partner ->친환경-> 농가 -> 상품 : 이것은 상품판매 서비스 관련 테이블들.. 질병 data 끝난 후 확인... **

# R에서 분석한 소스 데이터 화

#### 임시엑셀 csv 

sickdata1: 감기

sickdata2: 고혈압

sickdata3: 당뇨

sickdata4: 위

sickdata5: 장

sickdata0000:치추염 -> 해당 데이터는 결과값이 없어 삭제..

해당 소스 확인하여 질병데이터 음식 테이블로 구성한다.

super테이블, 질병데이터 테이블도 구성하기..!



# 2020 05 18

- datasick1.jsp(wordcloud 부분 웹에 출력)

- js/css 

  - ```
    <!-- 20200518 희정 wordcloud 출력 부분 css/js파일 시작  -->
    <script src="resources/opalcold_files/htmlwidgets-1.5.1/htmlwidgets.js"></script>
    <link href="resources/opalcold_files/wordcloud2-0.0.1/wordcloud.css"
    	rel="stylesheet" />
    <script
    	src="resources/opalcold_files/wordcloud2-0.0.1/wordcloud2-all.js"></script>
    <script src="resources/opalcold_files/wordcloud2-0.0.1/hover.js"></script>
    <script
    	src="resources/opalcold_files/wordcloud2-binding-0.2.1/wordcloud2.js"></script>
    <!-- 20200518 희정 wordcloud 출력 부분 css/js파일  끝 -->
    ```

    

- wordcloud 부분

  - ```
    				<!-- 2020 05 18 희정 워드클라우드 출력부분 시작  -->
    		 <h2 class="textcenter">감기/기관지에 좋은 음식에 대한 분석 결과 입니다.</h2>
    		<div id="htmlwidget_container" class="wordcloud">
    		  <div class="wordcloud2">
    			<div id="htmlwidget-8be566e406ab381ca717"
    				style="width: 800px; height: 550px;" class="wordcloud2 html-widget"></div>
    		  </div>
    		</div>
    		<script type="application/json"
    			data-for="htmlwidget-8be566e406ab381ca717">{"x":{"word":["도라지","차","비타민","배","생강","즙","물","과일","무","청","마늘","레몬","수세미","약재","천연","당근","사포닌","콩나물","하루","꿀","대파","더덕","삼","약용식물","오메가","한방","껍질","대추","약초","홍삼","귤","도라지배즙","모과","양파","오미자","미네랄","민들레","설탕","연근","영양소","자연","채소","토마토","항산화","계란","식혜","인삼","칼슘","콩","폴리스","고구마","고등어","단백질","배즙","버섯","블루베리","올리브","호두","호박"],"freq":[98,72,55,53,45,31,26,21,16,16,14,11,11,11,11,10,10,10,10,9,9,9,9,9,9,9,8,8,8,8,7,7,7,7,7,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4],"fontFamily":"Yang Rounded","fontWeight":"bold","color":"random-light","minSize":0,"weightFactor":1.83673469387755,"backgroundColor":"black","gridSize":0,"minRotation":-0.523598775598299,"maxRotation":-0.523598775598299,"shuffle":true,"rotateRatio":1,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
    		<script type="application/htmlwidget-sizing"
    			data-for="htmlwidget-8be566e406ab381ca717"> {"viewer":{"width":1,"height":1,"padding":0,"fill":true}}</script>
    		<!-- 2020 05 18 희정 워드클라우드 출력부분 끝  -->
    		
    ```

- 감기/기관지 관련 질병 음식 데이터 관련 이미지/ 내용 출력부분 구현

  - ```
    		<div class="cont opt1">
    			<script>
    				var food = new Array('감기/기관지', '도라지', '배', '생강', '무', '마늘');
    				for (var i = 1; i <= 5; i++) {
    					document.write("<div class='box'>");
    					document
    							.write("<img class='sickfood' src='resources/img/sick1"+i+".PNG'>");
    					document.write("<br>");
    					document.write("<br>");
    					document.write("<h5 class='textcenter'>" + food[i]
    							+ "</h5>");
    					document.write("</div>");						
    					
    				}
    			</script>
    		</div>
    ```

- 질병 데이터 부분 JDBC로 연동하려고 했으나 R로 분석하는것이 더 효과적일 것이라고 판단.

- R로 연동

- 식품성분표 공공데이터 활용하여 질병데이터에서 분석결과로 나온 음식데이터 성분 데이터를 시각화 하기로 판단

- R ggplot 사용하여 시각화

  ```
  # 도라지 
  food1<-read.csv(file="C:/heejung/Rstudy/도라지.csv",header=T)
  ggplot(food1,aes(x=도라지,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=10),axis.title=element_text(size=10),legend.position="top")+geom_text(aes(label=도라지), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('food1.png', width=16, height=10, dpi=100)
  ```

  나머지 25개의 식품에 대해서도 시각화 해야함



# 2020 05 19

- 5가지 질병과 관련된 25개 식품과 관련해 시각화 할 그래프 작성

- 5가지 질병과 관련된 25개의 식품에 대해 시각화 하는 R코드 작성 

- ```
  library(dplyr)
  library(ggplot2)
  
  
  font_add_google("Nanum Gothic", "nanumgothic")
  # 도라지 
  food1<-read.csv(file="C:/heejung/Rstudy/도라지.csv",header=T)
  ggplot(food1,aes(x=도라지,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+geom_text(size=10,aes(label=도라지), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('도라지.png', width=16, height=10, dpi=100)
  
  # 배
  food2<-read.csv(file="C:/heejung/Rstudy/배.csv",header=T)
  ggplot(food2,aes(x=배,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=배), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('배.png', width=16, height=10, dpi=100)
  # 생강
  food3<-read.csv(file="C:/heejung/Rstudy/생강.csv",header=T)
  ggplot(food3,aes(x=생강,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=생강), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('생강.png', width=16, height=10, dpi=100)
  #무
  food4<-read.csv(file="C:/heejung/Rstudy/무.csv",header=T)
  ggplot(food4,aes(x=무,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=무), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('무.png', width=16, height=10, dpi=100)
  
  #마늘
  food5<-read.csv(file="C:/heejung/Rstudy/마늘.csv",header=T)
  ggplot(food5,aes(x=마늘,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=마늘), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('마늘.png', width=16, height=10, dpi=100)
  
  #비트
  food6<-read.csv(file="C:/heejung/Rstudy/비트.csv",header=T)
  ggplot(food6,aes(x=비트,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
  theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
  geom_text(size=10,aes(label=비트), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('비트.png', width=16, height=10, dpi=100)
  
  #양파
  food7<-read.csv(file="C:/heejung/Rstudy/양파.csv",header=T)
  ggplot(food7,aes(x=양파,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=양파), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('양파.png', width=16, height=10, dpi=100)
  
  #현미
  food8<-read.csv(file="C:/heejung/Rstudy/현미.csv",header=T)
  ggplot(food8,aes(x=현미,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=현미), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('현미.png', width=16, height=10, dpi=100)
  #메밀
  food9<-read.csv(file="C:/heejung/Rstudy/메밀.csv",header=T)
  ggplot(food9,aes(x=메밀,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=메밀), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('메밀.png', width=16, height=10, dpi=100)
  
  #돼지감자
  food10<-read.csv(file="C:/heejung/Rstudy/돼지감자.csv",header=T)
  ggplot(food10,aes(x=돼지감자,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=돼지감자), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('돼지감자.png', width=16, height=10, dpi=100)
  #여주
  food11<-read.csv(file="C:/heejung/Rstudy/여주.csv",header=T)
  ggplot(food11,aes(x=여주,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=여주), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('여주.png', width=16, height=10, dpi=100)
  #인삼
  food12<-read.csv(file="C:/heejung/Rstudy/인삼.csv",header=T)
  ggplot(food12,aes(x=인삼.홍삼.,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=인삼.홍삼.), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('인삼.png', width=16, height=10, dpi=100)
  #양배추
  food13<-read.csv(file="C:/heejung/Rstudy/양배추.csv",header=T)
  ggplot(food13,aes(x=양배추,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=양배추), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('양배추.png', width=16, height=10, dpi=100)
  # 토마토
  food14<-read.csv(file="C:/heejung/Rstudy/토마토.csv",header=T)
  ggplot(food14,aes(x=토마토,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=토마토), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('토마토.png', width=16, height=10, dpi=100)
  # 민들레차
  food15<-read.csv(file="C:/heejung/Rstudy/민들레차.csv",header=T)
  ggplot(food15,aes(x=민들레차,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=민들레차), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('민들레차.png', width=16, height=10, dpi=100)
  # 느타리버섯
  food16<-read.csv(file="C:/heejung/Rstudy/느타리버섯.csv",header=T)
  ggplot(food16,aes(x=느타리버섯,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=느타리버섯), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('느타리버섯.png', width=16, height=10, dpi=100)
  # 연근
  food17<-read.csv(file="C:/heejung/Rstudy/연근.csv",header=T)
  ggplot(food17,aes(x=연근,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=연근), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('연근.png', width=16, height=10, dpi=100)
  # 고구마
  food18<-read.csv(file="C:/heejung/Rstudy/고구마.csv",header=T)
  ggplot(food18,aes(x=고구마,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=고구마), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('고구마.png', width=16, height=10, dpi=100)
  # 브로콜리
  food19<-read.csv(file="C:/heejung/Rstudy/브로콜리.csv",header=T)
  ggplot(food19,aes(x=브로콜리,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=브로콜리), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('브로콜리.png', width=16, height=10, dpi=100)
  # 시금치
  food20<-read.csv(file="C:/heejung/Rstudy/시금치.csv",header=T)
  ggplot(food20,aes(x=시금치,y=영양소명))+geom_bar(stat="identity",fill=terrain.colors(20))+theme_bw()+
    theme(axis.text=element_text(size=30),axis.title=element_text(size=30),legend.position="top")+
    geom_text(size=10,aes(label=시금치), vjust=0.3, colour="grey",check_overlap=TRUE)
  ggsave('시금치.png', width=16, height=10, dpi=100)
  
  ```

- 음식에 대한 데이터 웹에 출력하기 위해 상품코드값으로 이미지 변경

- datasick1.jsp에  감기/기관지에 대한  음식 그래프 시각화한 부분 출력 구현

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ page session="false"%>
<%@ page language="java" contentType="text/html; charset=utf-8"
	pageEncoding="utf-8"%>

<!DOCTYPE html>
<html>
<head>

<!-- 20200518 희정 wordcloud 출력 부분 css/js파일 시작  -->
<script src="resources/opalcold_files/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="resources/opalcold_files/wordcloud2-0.0.1/wordcloud.css"
	rel="stylesheet" />
<script
	src="resources/opalcold_files/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="resources/opalcold_files/wordcloud2-0.0.1/hover.js"></script>
<script
	src="resources/opalcold_files/wordcloud2-binding-0.2.1/wordcloud2.js"></script>
<!-- 20200518 희정 wordcloud 출력 부분 css/js파일  끝 -->

<meta>
<title>질병 data 페이지</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<link rel="stylesheet" href="resources/journal/bootstrap.css"
	media="screen">
<link rel="stylesheet" href="resources/_assets/css/custom.min.css">
<link rel="stylesheet" href="resources/ourcss/main.css">
<link rel="stylesheet" href="resources/ourcss/datasick.css">
</head>
<body>
	<header>
		<div class="header_wrap">
			<div class="logo">
				<a href="/opalproject/main">
					<h1>
						<img src="resources/images/Opal.png" width=150 alt
							class="default_logo">
					</h1>
				</a>
			</div>

			<div class="top_nav">
				<div class="top_ul">
					<div class="bs-component1">
						<nav class="navbar navbar-expand-lg navbar-light bg-light">
							<button class="navbar-toggler" type="button"
								data-toggle="collapse" data-target="#navbarColor03"
								aria-controls="navbarColor03" aria-expanded="false"
								aria-label="Toggle navigation">
								<span class="navbar-toggler-icon"></span>
							</button>

							<div class="collapse navbar-collapse" id="navbarColor03">
								<ul class="navbar-nav mr-auto">
									<li class="nav-item"><a class="nav-link"
										style="font-size: 12px;" href="/opalproject/customLogin">로그인</a></li>
									<li class="nav-item"><a class="nav-link"
										style="font-size: 12px;" href="/opalproject/entrance">회원가입</a></li>
									<li class="nav-item"><a class="nav-link"
										style="font-size: 12px;" href="#">고객센터</a></li>
								</ul>
							</div>
						</nav>
					</div>
				</div>
			</div>
	</header>
	<!--header 끝-->

	<div class="bs-component2">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarColor03" aria-controls="navbarColor03"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<!--건드리지 마세요.-->

			<div class="collapse navbar-collapse" id="navbarColor03"
				style="height: 100px">
				<div class="navbar-nav2">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item2"><a class="nav-link"
							style="padding-right: 4rem;" href="/opalproject/about">소개</a></li>
						<li class="nav-item2"><a class="nav-link"
							style="padding-right: 4rem;" href="/opalproject/datamain">질병DATA</a></li>
						<li class="nav-item2"><a class="nav-link"
							style="padding-right: 4rem;" href="/opalproject/goods">농산물구매</a></li>
						<li class="nav-item2"><a class="nav-link"
							style="padding-right: 4rem;" href="/opalproject/markets">농가별구매</a></li>
						<li class="nav-item2"><a class="nav-link"
							style="padding-right: 4rem;" href="#">레시피</a></li>
						<li class="nav-item2"><a class="nav-link"
							style="padding-right: 4rem;" href="#">식단추천</a></li>
						<li class="nav-item2"><a class="nav-link"
							style="padding-right: 4rem;" href="#">정기결제</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</div>
	<hr>
	<br>
	<!--main navbar 끝-->

	<section id="datasick">
		<!-- 여기에 만든 컨텐츠를 넣으면 될 것 같다. -->
		<!-- Main Controller 내부에 존재하는 datamain 메서드. -->
		<!-- 길어진다면 메서드를 분할해가 사용해도 된다. -->
		<!-- 20200514 jung 질병 데이터 페이지 구성 -->
		<br>
		<!-- 2020 05 14 희정 다른 질병으로 가는 버튼 추가  -->
		<div class="cont_opt1">
		  <div class="buttonwrap">
			<button class="selectbutton" onclick="location.href='datasick1'">감기/기관지</button>
			<button class="button"
				onclick="location.href='datasick2'">고혈압</button>
			<button class="button"
				onclick="location.href='datasick3'">당뇨</button>
			<button class="button"
				onclick="location.href='datasick4'">위/식도</button>
			<button class="button"
				onclick="location.href='datasick5'">대장/췌장</button>
		  </div>
		</div>
		<br>
		<h4 class="textcenter">다른 질병으로 선택하시려면 버튼을 눌러주세요.</h4>
				<!-- 2020 05 18 희정 워드클라우드 출력부분 시작  -->
		 <h2 class="textcenter">감기/기관지에 좋은 음식에 대한 분석 결과 입니다.</h2>
		<div id="htmlwidget_container" class="wordcloud">
		  <div class="wordcloud2">
			<div id="htmlwidget-8be566e406ab381ca717"
				style="width: 800px; height: 550px;" class="wordcloud2 html-widget"></div>
		  </div>
		</div>
		<script type="application/json"
			data-for="htmlwidget-8be566e406ab381ca717">{"x":{"word":["도라지","차","비타민","배","생강","즙","물","과일","무","청","마늘","레몬","수세미","약재","천연","당근","사포닌","콩나물","하루","꿀","대파","더덕","삼","약용식물","오메가","한방","껍질","대추","약초","홍삼","귤","도라지배즙","모과","양파","오미자","미네랄","민들레","설탕","연근","영양소","자연","채소","토마토","항산화","계란","식혜","인삼","칼슘","콩","폴리스","고구마","고등어","단백질","배즙","버섯","블루베리","올리브","호두","호박"],"freq":[98,72,55,53,45,31,26,21,16,16,14,11,11,11,11,10,10,10,10,9,9,9,9,9,9,9,8,8,8,8,7,7,7,7,7,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4],"fontFamily":"Yang Rounded","fontWeight":"bold","color":"random-light","minSize":0,"weightFactor":1.83673469387755,"backgroundColor":"black","gridSize":0,"minRotation":-0.523598775598299,"maxRotation":-0.523598775598299,"shuffle":true,"rotateRatio":1,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
		<script type="application/htmlwidget-sizing"
			data-for="htmlwidget-8be566e406ab381ca717"> {"viewer":{"width":1,"height":1,"padding":0,"fill":true}}</script>
		<!-- 2020 05 18 희정 워드클라우드 출력부분 끝  -->
		<br> <br>

		<div class="cont opt1">
			<script>
				var food = new Array('감기/기관지', '도라지', '배', '생강', '무', '마늘');
				for (var i = 1; i <= 5; i++) {
					document.write("<div class='box'>");
					document
							.write("<img class='sickfood' src='resources/img/sick1"+i+".PNG'>");
					document.write("<br>");
					document.write("<br>");
					document.write("<h5 class='textcenter'>" + food[i]
							+ "</h5>");
					document.write("</div>");						
					
				}
			</script>
		</div>
		<!-- 20200519 -->
		<div class="textcenter">
			<h4 id=changeword>도라지에 대한 영양성분 데이터</h4>
			<img class="fooddata" id="changeimg1" src='resources/img/food11.png'>
			<br>
			<br>
			<h5>다른 음식에 대한 영양정보를 확인하시려면 아래 버튼을 눌러주세요.</h5>
			<br>
			<br>
			<button class="changeimg" onclick="changeimg(1)">도라지</button>
			&nbsp;&nbsp;&nbsp;
			<button class="changeimg" onclick="changeimg(2)">배</button>
			&nbsp;&nbsp;&nbsp;
			<button class="changeimg" onclick="changeimg(3)">생강</button>
			&nbsp;&nbsp;&nbsp;
			<button class="changeimg" onclick="changeimg(4)">무</button>
			&nbsp;&nbsp;&nbsp;
			<button class="changeimg" onclick="changeimg(5)">마늘</button>
			&nbsp;&nbsp;&nbsp;
		</div>
		<br>
		<br>
		<script>
			function changeimg(change) {
				if (change == 1){
					document.getElementById("changeimg1").src = "resources/img/food11.png";
					document.getElementById("changeword").innerHTML="도라지에 대한 영양성분 데이터";				
				}
				else if (change == 2){
					document.getElementById("changeimg1").src = "resources/img/food12.png";
					document.getElementById("changeword").innerHTML="배에 대한 영양성분 데이터";	
				}else if (change == 3){
					document.getElementById("changeimg1").src = "resources/img/food13.png";
					document.getElementById("changeword").innerHTML="생강에 대한 영양성분 데이터";	
				}else if (change == 4){
					document.getElementById("changeimg1").src = "resources/img/food14.png";
					document.getElementById("changeword").innerHTML="무에 대한 영양성분 데이터";	
				}else if (change == 5){
				document.getElementById("changeimg1").src = "resources/img/food15.png";
				document.getElementById("changeword").innerHTML="마늘에 대한 영양성분 데이터";	
				}else {
					console.log("변경 오류")
				}
			}
		</script>
		
	</section>

	<footer>
		<h3>홈페이지 정보(바닥 글)</h3>
	</footer>
	<!--footer 끝-->

</body>
<script src="resources/_vendor/jquery/dist/jquery.min.js"></script>
<script src="resources/_vendor/popper.js/dist/umd/popper.min.js"></script>
<script src="resources/_vendor/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="resources/_assets/js/custom.js"></script>
</html>
```



- datasick2.jsp 추가로 구현

- ```
  <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
  <%@ page session="false"%>
  <%@ page language="java" contentType="text/html; charset=utf-8"
  	pageEncoding="utf-8"%>
  
  <!DOCTYPE html>
  <html>
  <head>
  
  <!-- 20200519 희정 고혈압 wordcloud 출력 부분 css/js파일 시작  -->
  <script src="resources/opalhighbloodpressure_files/htmlwidgets-1.5.1/htmlwidgets.js"></script>
  <link href="resources/opalhighbloodpressure_files/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
  <script src="resources/opalhighbloodpressure_files/wordcloud2-0.0.1/wordcloud2-all.js"></script>
  <script src="resources/opalhighbloodpressure_files/wordcloud2-0.0.1/hover.js"></script>
  <script src="resources/opalhighbloodpressure_files/wordcloud2-binding-0.2.1/wordcloud2.js"></script>
    
  <!-- 20200519 희정 고혈압wordcloud 출력 부분 css/js파일  끝 -->
  
  <meta>
  <title>질병 data 페이지</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" href="resources/journal/bootstrap.css"
  	media="screen">
  <link rel="stylesheet" href="resources/_assets/css/custom.min.css">
  <link rel="stylesheet" href="resources/ourcss/main.css">
  <link rel="stylesheet" href="resources/ourcss/datasick.css">
  </head>
  <body>
  	<header>
  		<div class="header_wrap">
  			<div class="logo">
  				<a href="/opalproject/main">
  					<h1>
  						<img src="resources/images/Opal.png" width=150 alt
  							class="default_logo">
  					</h1>
  				</a>
  			</div>
  
  			<div class="top_nav">
  				<div class="top_ul">
  					<div class="bs-component1">
  						<nav class="navbar navbar-expand-lg navbar-light bg-light">
  							<button class="navbar-toggler" type="button"
  								data-toggle="collapse" data-target="#navbarColor03"
  								aria-controls="navbarColor03" aria-expanded="false"
  								aria-label="Toggle navigation">
  								<span class="navbar-toggler-icon"></span>
  							</button>
  
  							<div class="collapse navbar-collapse" id="navbarColor03">
  								<ul class="navbar-nav mr-auto">
  									<li class="nav-item"><a class="nav-link"
  										style="font-size: 12px;" href="/opalproject/customLogin">로그인</a></li>
  									<li class="nav-item"><a class="nav-link"
  										style="font-size: 12px;" href="/opalproject/entrance">회원가입</a></li>
  									<li class="nav-item"><a class="nav-link"
  										style="font-size: 12px;" href="#">고객센터</a></li>
  								</ul>
  							</div>
  						</nav>
  					</div>
  				</div>
  			</div>
  	</header>
  	<!--header 끝-->
  
  	<div class="bs-component2">
  		<nav class="navbar navbar-expand-lg navbar-light bg-light">
  			<button class="navbar-toggler" type="button" data-toggle="collapse"
  				data-target="#navbarColor03" aria-controls="navbarColor03"
  				aria-expanded="false" aria-label="Toggle navigation">
  				<span class="navbar-toggler-icon"></span>
  			</button>
  			<!--건드리지 마세요.-->
  
  			<div class="collapse navbar-collapse" id="navbarColor03"
  				style="height: 100px">
  				<div class="navbar-nav2">
  					<ul class="navbar-nav mr-auto">
  						<li class="nav-item2"><a class="nav-link"
  							style="padding-right: 4rem;" href="/opalproject/about">소개</a></li>
  						<li class="nav-item2"><a class="nav-link"
  							style="padding-right: 4rem;" href="/opalproject/datamain">질병DATA</a></li>
  						<li class="nav-item2"><a class="nav-link"
  							style="padding-right: 4rem;" href="/opalproject/goods">농산물구매</a></li>
  						<li class="nav-item2"><a class="nav-link"
  							style="padding-right: 4rem;" href="/opalproject/markets">농가별구매</a></li>
  						<li class="nav-item2"><a class="nav-link"
  							style="padding-right: 4rem;" href="#">레시피</a></li>
  						<li class="nav-item2"><a class="nav-link"
  							style="padding-right: 4rem;" href="#">식단추천</a></li>
  						<li class="nav-item2"><a class="nav-link"
  							style="padding-right: 4rem;" href="#">정기결제</a></li>
  					</ul>
  				</div>
  			</div>
  		</nav>
  	</div>
  	<hr>
  	<br>
  	<!--main navbar 끝-->
  
  	<section id="datasick">
  		<!-- 여기에 만든 컨텐츠를 넣으면 될 것 같다. -->
  		<!-- Main Controller 내부에 존재하는 datamain 메서드. -->
  		<!-- 길어진다면 메서드를 분할해가 사용해도 된다. -->
  		<!-- 20200514 jung 질병 데이터 페이지 구성 -->
  		<br>
  		<!-- 2020 05 14 희정 다른 질병으로 가는 버튼 추가  -->
  		<div class="cont_opt1">
  		  <div class="buttonwrap">
  			<button class="button" onclick="location.href='datasick1'">감기/기관지</button>
  			<button class="selectbutton"
  				onclick="location.href='datasick2'">고혈압</button>
  			<button class="button"
  				onclick="location.href='datasick3'">당뇨</button>
  			<button class="button"
  				onclick="location.href='datasick4'">위/식도</button>
  			<button class="button"
  				onclick="location.href='datasick5'">대장/췌장</button>
  		  </div>
  		</div>
  		<br>
  		<h4 class="textcenter">다른 질병으로 선택하시려면 버튼을 눌러주세요.</h4>
  				<!-- 2020 05 18 희정 워드클라우드 출력부분 시작  -->
  <div id="htmlwidget_container" class="wordcloud">
    <div id="htmlwidget-73358140b8c61cfc0611" style="width:800px;height:550px;" class="wordcloud2 html-widget"></div>
  </div>
  <script type="application/json" data-for="htmlwidget-73358140b8c61cfc0611">{"x":{"word":["차","칼륨","비트","채소","양파","나트륨","마늘","과일","비타민","즙","영양제","현미","메밀","시금치","토마토","불포화지방산","섬유","식이","오메가","물","배","부추","칼슘","김치","녹두","단백질","버섯","호박","더덕","생선","천연","표고버섯","해조류","당근","미역","신선","야채","육류","치즈","콩","고구마","귤","등푸른생선","마그네슘","바나나","발효","베타인","삼","영지버섯","저염식","항산화","홍삼"],"freq":[39,36,30,30,26,21,20,18,15,14,12,12,11,11,11,9,9,9,9,8,8,8,8,7,7,7,7,7,6,6,6,6,6,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4],"fontFamily":"Yang Rounded","fontWeight":"bold","color":"random-light","minSize":0,"weightFactor":4.61538461538461,"backgroundColor":"black","gridSize":0,"minRotation":-0.523598775598299,"maxRotation":-0.523598775598299,"shuffle":true,"rotateRatio":1,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
  <script type="application/htmlwidget-sizing" data-for="htmlwidget-73358140b8c61cfc0611">{"viewer":{"width":800,"height":550,"padding":0,"fill":true}}</script>
  				<!-- 2020 05 18 희정 워드클라우드 출력부분 끝  -->
  		<br> <br>
  
  		<div class="cont opt1">
  			<script>
  				var food = new Array('고혈압', '비트', '양파', '마늘', '현미', '메밀');
  				for (var i = 1; i <= 5; i++) {
  					document.write("<div class='box'>");
  					document
  							.write("<img class='sickfood' src='resources/img/sick2"+i+".PNG'>");
  					document.write("<br>");
  					document.write("<br>");
  					document.write("<h5 class='textcenter'>" + food[i]
  							+ "</h5>");
  					document.write("</div>");						
  					
  				}
  			</script>
  		</div>
  		<!-- 20200519 -->
  		<div class="textcenter">
  			<h4 id=changeword>비트에 대한 영양성분 데이터</h4>
  			<img class="fooddata" id="changeimg1" src='resources/img/food21.png'>
  			<br>
  			<br>
  			<h5>다른 음식에 대한 영양정보를 확인하시려면 아래 버튼을 눌러주세요.</h5>
  			<br>
  			<br>
  			<button class="changeimg" onclick="changeimg(1)">비트</button>
  			&nbsp;&nbsp;&nbsp;
  			<button class="changeimg" onclick="changeimg(2)">양파</button>
  			&nbsp;&nbsp;&nbsp;
  			<button class="changeimg" onclick="changeimg(3)">마늘</button>
  			&nbsp;&nbsp;&nbsp;
  			<button class="changeimg" onclick="changeimg(4)">현미</button>
  			&nbsp;&nbsp;&nbsp;
  			<button class="changeimg" onclick="changeimg(5)">메밀</button>
  			&nbsp;&nbsp;&nbsp;
  		</div>
  		<br>
  		<br>
  		<script>
  			function changeimg(change) {
  				if (change == 1){
  					document.getElementById("changeimg1").src = "resources/img/food21.png";
  					document.getElementById("changeword").innerHTML="비트에 대한 영양성분 데이터";				
  				}
  				else if (change == 2){
  					document.getElementById("changeimg1").src = "resources/img/food22.png";
  					document.getElementById("changeword").innerHTML="양파에 대한 영양성분 데이터";	
  				}else if (change == 3){
  					document.getElementById("changeimg1").src = "resources/img/food23.png";
  					document.getElementById("changeword").innerHTML="마늘에 대한 영양성분 데이터";	
  				}else if (change == 4){
  					document.getElementById("changeimg1").src = "resources/img/food24.png";
  					document.getElementById("changeword").innerHTML="현미에 대한 영양성분 데이터";	
  				}else if (change == 5){
  				document.getElementById("changeimg1").src = "resources/img/food25.png";
  				document.getElementById("changeword").innerHTML="메밀에 대한 영양성분 데이터";	
  				}else {
  					console.log("변경 오류")
  				}
  			}
  		</script>
  		
  	</section>
  
  	<footer>
  		<h3>홈페이지 정보(바닥 글)</h3>
  	</footer>
  	<!--footer 끝-->
  
  </body>
  <script src="resources/_vendor/jquery/dist/jquery.min.js"></script>
  <script src="resources/_vendor/popper.js/dist/umd/popper.min.js"></script>
  <script src="resources/_vendor/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="resources/_assets/js/custom.js"></script>
  </html>
  ```

# 2020 05 20

파트너/ 농가 테이블 구조 변경 -> 농가 테이블로 구조 합침

![](.\img\opal 20200520 수정부분.png)

